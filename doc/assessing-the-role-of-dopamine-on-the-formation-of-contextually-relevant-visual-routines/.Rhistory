install.packages("rticles")
a <- matrix(data=c(.25, .25, .25, .25, rep(0, times = 12)), nrow = 4)
a
b <- t(a)
b
a''
b <- matrix(data=c(rep(0, times=12), 1, 2, 3, 4), nrow=12)
b <- matrix(data=c(rep(0, times=12), 1, 2, 3, 4), nrow=4)
b
a-b
b <- matrix(data=c(rep(0, times=12), 1, 1, 1, 1), nrow=4)
a-b
abs(a-b)
(a-b)^2
sum(sqrt((a-b)^2))
var(c(40,60))
var(c(80,20))
tgt = .8*log(.8)
tgt
dst = .2*log(.2)
dst
-sum(tgt,dst)
tgt = .6*log(.6)
dst = .4*log(.4)
tgt
dst
-sum(tgt,dst)
tgt = .5*log(.5)
tgt
-sum(tgt,tgt)
Sys.setenv(DOWNLOAD_STATIC_LIBV8 = 1) # only necessary for Linux without the nodejs library / headers
install.packages("rstan", repos = "https://cloud.r-project.org/", dependencies = TRUE)
sudo R
remove.packages("rstan")
if (file.exists(".RData")) file.remove(".RData")
Sys.setenv(DOWNLOAD_STATIC_LIBV8 = 1) # only necessary for Linux without the nodejs library / headers
install.packages("rstan", repos = "https://cloud.r-project.org/", dependencies = TRUE)
library(rstan)
remove.packages("rstan")
if (file.exists(".RData")) file.remove(".RData")
install.packages("rstan", repos = "https://cloud.r-project.org/", dependencies = TRUE)
install.packages("igraph")
install.packages("igraph")
install.packages("brms")
library(brms)
load('../../data/derivatives/stereo_winplusmind_dmindint/stereo_winplusmind_dmindint.Rda)
load('../../data/derivatives/stereo_winplusmind_dmindint/stereo_winplusmind_dmindint.Rda')
mndbd_dm
priors(mndbd_dm)
prior(mndbd_dm)
get_priors(mndbd_dm)
library(brms)
get_prior(mndbd_dm)
prior_summary(mndbd_dm)
tmp <- prior_summary(mndbd_dm)
tmp$prior
rm(list=ls())
#-----------------------------------------------------------------------------
# load libraries
# ---------------------------------------------------------------------------
library(brms)
library(tidyverse)
setwd("~/Documents/projects/DA_VisRoutes/R")
load('../data/derivatives/acc_model-fxbdrg-bdrgsubrfx/acc_model-fxbdrg-bdrgsubrfx.Rda')
setwd("~/Documents/projects/DA_VisRoutes/R")
load('../data/derivatives/acc_model-fxbdrg-bdrgsubrfx/acc_model-fxbdrg-bdrgsubrfx.Rda')
2.6/0.9
674.1/80
## use this code to perform model comparisons of models run using source_....R
# written by K.Garner, 2022
rm(list=ls())
#-----------------------------------------------------------------------------
# load libraries
# ---------------------------------------------------------------------------
library(brms)
library(tidyverse)
#----------------------------------------------------------------------------
# MINDFULNESS
# ---------------------------------------------------------------------------
#-----------------------------------------------------------------------------
# ACCURACY
# ---------------------------------------------------------------------------
load('../data/derivatives/acc_model-fxbdrg-bdrgsubrfx/acc_model-fxbdrg-bdrgsubrfx.Rda')
load("../data/derivatives/acc_winplusmind/acc_winplusmind.Rda")
load("../data/derivatives/acc_winplusmind_bmnd/acc_winplusmind_bmnd.Rda")
load("../data/derivatives/acc_winplusmind_dmnd/acc_winplusmind_dmnd.Rda")
load("../data/derivatives/acc_winplusmindbmnd_dmnd/acc_winplusmindbmnd_dmnd.Rda")
load("../data/derivatives/acc_winplusmindbdmnd/acc_winplusmindbdmnd.Rda")
loo_compare(fxbdrg_rfxbdrg, mnd, mndb, mnddrgb, bdrgmdrgmi, mndbdrg3way)
comp <- loo_compare(fxbdrg_rfxbdrg, mnd, mndb, mnddrgb, bdrgmdrgmi, mndbdrg3way)
print(comp, simplify=FALSE, digits = 2)
save(comp, file="../data/derivatives/acc_loo.Rda")
save(comp, file="../data/derivatives/acc_mind_loo.Rda")
ftmplt = '../data/derivatives/%s/%s.Rda'
load(file=sprintf(ftmplt, 'acc_model-bonly', 'acc_model-bonly'))
load(file=sprintf(ftmplt, 'acc_model-fxb-bsubrfx', 'acc_model-fxb-bsubrfx'))
load(file=sprintf(ftmplt, 'acc_model-int-bsubrfx', 'acc_model-int-bsubrfx'))
load(file=sprintf(ftmplt, 'acc_model-fxbdrg-brfx', 'acc_model-fxbdrg-brfx'))
load(file=sprintf(ftmplt, 'acc_model-fxbdrg-bdrgsubrfx', 'acc_model-fxbdrg-bdrgsubrfx'))
load(file=sprintf(ftmplt, 'acc_model-fxbdrgint-bdrgrfx', 'acc_model-fxbdrgint-bdrgrfx'))
load(file=sprintf(ftmplt, 'acc_model-fxbdrgint-brfx', 'acc_model-fxbdrgint-brfx'))
loo_compare(fxb_subint, bsubrfx, fxb_bsubrfx, fxbdrg_bsubrfx, fxbdrg_rfxbdrg,
fxbdrgint_bdrgsubrfx, fxbdrgint_bsubrfx) #,
acc_comp <- loo_compare(fxb_subint, bsubrfx, fxb_bsubrfx, fxbdrg_bsubrfx, fxbdrg_rfxbdrg,
fxbdrgint_bdrgsubrfx, fxbdrgint_bsubrfx)
save(acc_comp, file="../data/derivatives/acc_loo.Rda")
acc_mind_comp <- loo_compare(fxbdrg_rfxbdrg, mnd, mndb, mnddrgb, bdrgmdrgmi, mndbdrg3way)
print(comp, simplify=FALSE, digits = 2)
save(acc_mind_comp, file="../data/derivatives/acc_mind_loo.Rda")
load("../data/derivatives/acc_winplusmindbdmnd/acc_winplusmindbdmnd.Rda")
load("../data/derivatives/acc_mindwin_bis/acc_mindwin_bis.Rda")
loo_compare(mndbdrg3way, acc_mindwin_bis)
save(acc_mind_bis_comp, file="../data/derivatives/acc_mind_bis_comp.Rda")
acc_mind_bis_comp <- loo_compare(mndbdrg3way, acc_mindwin_bis)
save(acc_mind_bis_comp, file="../data/derivatives/acc_mind_bis_comp.Rda")
load('../data/derivatives/acc_loo.Rda')
setwd("~/Documents/projects/DA_VisRoutes/doc/assessing-the-role-of-dopamine-on-the-formation-of-contextually-relevant-visual-routines")
load('../data/derivatives/acc_loo.Rda')
load('../../data/derivatives/acc_loo.Rda')
load('../../data/derivatives/acc_mind_loo.Rda')
load('../../data/derivatives/acc_mind_bis_comp.Rda')
acc_comp
acc_comp["fxbdrg_rfxbrg", ]
acc_comp[1,1]
acc_comp[1,2]
colnames(acc_comp)
rownames(acc_comp)
print(acc_comp, simplify=FALSE, digits = 2)
print(acc_mind, simplify=FALSE, digits = 2)
print(acc_mind_comp, simplify=FALSE, digits = 2)
load("../data/derivatives/acc_winplusmindbmnd_dmnd/acc_winplusmindbmnd_dmnd.Rda")
load("../../data/derivatives/acc_winplusmindbmnd_dmnd/acc_winplusmindbmnd_dmnd.Rda")
rm(list=ls()
)
library(knitr)
library(brms)
# rstudio will set the folder where .Rmd file seats as work directory
# set it back to the folder where .Rproj seats
#opts_knit$set(root.dir = normalizePath("../"))
opts_chunk$set(fig.align = 'center', cache = FALSE, warning = FALSE,
message = TRUE, echo = FALSE)
options(digits = 3, width = 88, knitr.graphics.auto_pdf = TRUE,
knitr.kable.NA = '')
# knit_hooks$set(inline = function(x) {
#   x <- sprintf("%1.2f", x)
#   paste(x, collapse = ", ")
# })
taskfigpth <- '../../images/DA_ExpTask.pdf'
knitr::include_graphics(taskfigpth)
# get the number of participants who would have been excluded if we'd gone with the original criteria
load('../../data/derivatives/accuracy.Rda')
n_potential_exclude <- length(unique(door_acc_sum$sub[door_acc_sum$excl == 1]))
load('../../data/derivatives/stereo_winplusmind_dmindint/stereo_winplusmind_dmindint.Rda')
rm(mndbd_dm)
load('../../data/derivatives/acc_loo.Rda')
load('../../data/derivatives/acc_mind_loo.Rda')
load('../../data/derivatives/acc_mind_bis_comp.Rda')
load('../../data/derivatives/acc_winplusmindbdmnd/acc_winplusmindbdmnd.Rda')
print(acc_mind_comp)
print(acc_mind_comp, simplify = FALSE, digits = 2)
print(mndbdrg3way, digits=2)
print(acc_mind_comp, simplify = FALSE, digits = 2)
acc_mind_comp["mndbdrg3way", ]
acc_mind_comp["mndbdrg3way", "se_diff"]
acc_mind_comp["mnddrgb", "elpd_diff"]/acc_mind_comp["mnddrgb", "se_diff"]
load("../data/derivatives/acc_winplusmind_bmnd/acc_winplusmind_bmnd.Rda")
load("../../data/derivatives/acc_winplusmind_bmnd/acc_winplusmind_bmnd.Rda")
load("../data/derivatives/acc_winplusmind_dmnd/acc_winplusmind_dmnd.Rda")
load("../../data/derivatives/acc_winplusmind_dmnd/acc_winplusmind_dmnd.Rda")
rm(mndb)
rm(bdrgmdrgmi)
load("../data/derivatives/acc_winplusmindbmnd_dmnd/acc_winplusmindbmnd_dmnd.Rda")
load("../../data/derivatives/acc_winplusmindbmnd_dmnd/acc_winplusmindbmnd_dmnd.Rda")
load('../../data/derivatives/acc_winplusmindbmnd_dmnd/acc_winplusmindbmnd_dmnd.Rda')
mnddrgb
acc_mind_comp
print(acc_mind_comp, simplify = FALSE, digits = 2)
-12.02
acc_mind_bis_comp
load("../../data/derivatives/acc_mindwin_bis/acc_mindwin_bis.Rda")
print(acc_mindwin_bis)
rm(acc_mindwin_bis)
print(mndbdrg3way)
mndbdrg3way$fit
tmp <- print(mndbdrg3way, digits = 2)
tmp$Estimate
tmp$fixed$Estimate
tmp$fixed$`l-95% CI`
tmp$fixed$`u-95% CI`
acc_results <- print(mndbdrg3way, digits = 2)
acc_results$fixed
acc_results$fixed["drugplacebo:m",]
acc_results$fixed["drugplacebo:m","l-95% CI"]
acc_results$fixed$Estimate
acc_results$fixed[,"Estimate"]
acc_results$fixed["drugplacebo:m","Estimate"]
acc_results <- print(mndbdrg3way, digits = 2)
acc_results <- print(mndbdrg3way, digits = 2)
